---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const allPosts = await getCollection("Posts");
---

<BaseLayout pageTitle="Home">
  <h1 class="mb-4">Posts</h1>
  <ul>
    {
      allPosts.length > 0 ? (
        allPosts.map((post) => (
          <li>
            <a href={`/posts/${post.id}`}>{post.data.title}</a>
          </li>
        ))
      ) : (
        <h2>First post coming soon!</h2>
      )
    }
  </ul>
</BaseLayout>
